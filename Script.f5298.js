(()=>{var t={296:t=>{function n(t,n,e){var r,i,o,a,u;function s(){var l=Date.now()-a;l<n&&l>=0?r=setTimeout(s,n-l):(r=null,e||(u=t.apply(o,i),o=i=null))}null==n&&(n=100);var l=function(){o=this,i=arguments,a=Date.now();var l=e&&!r;return r||(r=setTimeout(s,n)),l&&(u=t.apply(o,i),o=i=null),u};return l.clear=function(){r&&(clearTimeout(r),r=null)},l.flush=function(){r&&(u=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},l}n.debounce=n,t.exports=n}},n={};function e(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={exports:{}};return t[r](o,o.exports,e),o.exports}e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:1,get:n[r]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{"use strict";class t{constructor(){}static Init(){this.DetectedLanguage=this.DetectUserLanguage(),this.SetAttributeToHTML()}static Pick(t){return t[this.DetectedLanguage]}static DetectUserLanguage(){for(const t of navigator.languages){const n=this.TrimLanguageCodeToCountryCode(t);if(this.IsLanguageSupported(n))return n}return this.FallbackLanguage}static TrimLanguageCodeToCountryCode(t){return t.slice(0,2)}static IsLanguageSupported(t){return this.SupportedLanguages.includes(t)}static SetAttributeToHTML(){document.documentElement.setAttribute("lang",this.DetectedLanguage)}}t.SupportedLanguages=["en","ru"],t.FallbackLanguage="en";class n{constructor(){}static Init(t){this.Root=t,this.InitialRouting()}static InitialRouting(){this.IsRouting=1;for(const t of this.Actions)t();this.IsRouting=0}}n.Actions=[],window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{var t,n;t=document.body,n="ThemeChanging",new Promise((e=>{t.classList.toggle(n,1),setTimeout((()=>{t.classList.toggle(n,0),e()}),0)}))}));const r={English:{ID:"en",ReadableName:{en:"English",ru:"Английский"}},Russian:{ID:"ru",ReadableName:{en:"Russian",ru:"Русский"}},Numbers:{ID:"Numbers",ReadableName:{en:"Numbers",ru:"Номера"}}};class i{static FromID(t){return Object.values(r).find((n=>n.ID===t))}}class o{Init(){this.Value=this.Read()}Write(){var t,n;t=this.LOCAL_STORAGE_KEY,void 0===(n=this.Serialize(this.Value))?localStorage.setItem(t,""):localStorage.setItem(t,JSON.stringify(n))}Read(){return this.Deserialize(function(t){const n=localStorage.getItem(t);return null===n?null:JSON.parse(n)}(this.LOCAL_STORAGE_KEY))}}const a=new class extends o{constructor(){super(...arguments),this.LOCAL_STORAGE_KEY="MapLanguage"}Deserialize(t){return"string"==typeof t&&i.FromID(t)||r.English}Serialize(t){return t.ID}},u=new class extends o{constructor(){super(...arguments),this.LOCAL_STORAGE_KEY="PositionLanguages"}Deserialize(t){const n=new Map;if(t){for(const e of t){const t=e[0],r=e[1],o=i.FromID(t);o&&n.set(o,r)}for(const t of Object.values(r))n.has(t)||n.set(t,1);return n}for(const t of Object.values(r))n.set(t,1);return n}Serialize(t){const n=[];for(const e of t)n.push([e[0].ID,e[1]]);return n}};class s{static Init(){this.MapLanguage.Init(),this.PositionNameLanguages.Init()}}s.MapLanguage=a,s.PositionNameLanguages=u;class l{constructor(t){this.ID=t.ID,this.Names=t.Names,this.VectorPath=t.VectorPath,this.SignatureCoordinates=t.SignatureCoordinates}GetPositionNameLanguages(){const t=new Set;for(const n of this.Names)t.has(n.Language)||t.add(n.Language);const n=new Set;for(const e of Object.values(r))t.has(e)&&n.add(e);return n}GetTopNameForPositionNameLanguage(t){return this.Names.find((n=>n.Language===t))}}var c;!function(t){t[t.Low=0]="Low",t[t.Medium=1]="Medium",t[t.High=2]="High"}(c||(c={}));const h=[new class{constructor(t){this.ID=t.ID,this.ReadableName=t.ReadableName,this.Positions=t.Positions,this.Architecture=t.Architecture,this.Ground=t.Ground,this.Width=t.Width,this.Height=t.Height}}({ID:"Dust2",ReadableName:"Dust II",Positions:[new l({ID:"Upper_tunnel",Names:[{Name:"Upper tunnels",Language:r.English,PopularityLevel:c.High},{Name:"Tunnels",Language:r.English,PopularityLevel:c.Medium},{Name:"Up",Language:r.English,PopularityLevel:c.Low},{Name:"Upper B",Language:r.English,PopularityLevel:c.Low},{Name:"Верхний",Language:r.Russian,PopularityLevel:c.Medium},{Name:"Верхний туннель",Language:r.Russian,PopularityLevel:c.High},{Name:"Туннель",Language:r.Russian,PopularityLevel:c.High},{Name:"Тёмка",Language:r.Russian,PopularityLevel:c.Medium},{Name:"Верхняя тёмка",Language:r.Russian,PopularityLevel:c.High},{Name:"Тешка",Language:r.Russian,PopularityLevel:c.Medium},{Name:"Верхняя тешка",Language:r.Russian,PopularityLevel:c.Low},{Name:"Верх",Language:r.Russian,PopularityLevel:c.Medium},{Name:"48",Language:r.Numbers,PopularityLevel:c.Low}],VectorPath:"M178.52 398.78H63.16V483.62H135.2V497.89H204.26V483.62H319.01V420.25H290.1V426.55H178.52V398.78Z",SignatureCoordinates:{x:191.1,y:448.3}}),new l({ID:"B",Names:[{Name:"B platform",Language:r.English,PopularityLevel:c.High},{Name:"B plant",Language:r.English,PopularityLevel:c.High},{Name:"Platform",Language:r.English,PopularityLevel:c.High},{Name:"2",Language:r.Numbers,PopularityLevel:c.High},{Name:"Б платформа",Language:r.Russian,PopularityLevel:c.High},{Name:"Танцпол",Language:r.Russian,PopularityLevel:c.High},{Name:"Б плант",Language:r.Russian,PopularityLevel:c.High}],VectorPath:"M165.293 170.945V79.26H212.82L247.16 99.25V170.945H165.293Z",SignatureCoordinates:{x:206.2,y:125.1}}),new l({ID:"Car",Names:[{Name:"Car",Language:r.English,PopularityLevel:c.High},{Name:"21",Language:r.Numbers,PopularityLevel:c.Low},{Name:"Кар",Language:r.Russian,PopularityLevel:c.High},{Name:"Машина",Language:r.Russian,PopularityLevel:c.High},{Name:"Реклама",Language:r.Russian,PopularityLevel:c.Medium},{Name:"Трактор",Language:r.Russian,PopularityLevel:c.Low}],VectorPath:"M896.5 336.5L896.53 208.15L931.29 208.15L935.28 255.6V316.28L907.18 316.28L896.5 336.5Z",SignatureCoordinates:{x:915.9,y:272.3}}),new l({ID:"T_spawn",Names:[],VectorPath:"M331.11 843.01H283.475V944.01H317.28V940.16H469.79V847H331.11V843.01Z",SignatureCoordinates:{x:376.6,y:893.5}}),new l({ID:"Double_stack",Names:[],VectorPath:"M177.286,144.413 191.9065,144.413 191.9065,159.9061 177.286,159.9061z",SignatureCoordinates:{x:184.6,y:152.2}}),new l({ID:"Big_box",Names:[],VectorPath:"M134.99,178.354 157.0002,178.354 157.0002,200.99980000000002 134.99,200.99980000000002z",SignatureCoordinates:{x:146,y:189.7}}),new l({ID:"Suicide",Names:[],VectorPath:"M456.84 666.02H429.23V790.56H460.36V749.14H456.84V666.02Z",SignatureCoordinates:{x:444.8,y:728.3}}),new l({ID:"Constructions",Names:[],VectorPath:"M300 144.33V112.81H310.52V144.33H300Z",SignatureCoordinates:{x:305.3,y:128.6}}),new l({ID:"Goose",Names:[],VectorPath:"M764.15,35.4 820.1888,35.4 820.1888,92.7338 764.15,92.7338z",SignatureCoordinates:{x:792.2,y:64.1}}),new l({ID:"Ramp",Names:[],VectorPath:"M820.208 204.877V92.7338H889.57V99.4H896.532V204.877H820.208Z",SignatureCoordinates:{x:858.4,y:148.8}}),new l({ID:"Car_long",Names:[],VectorPath:"M896.532 244.597L912.2130675782 240.265521673 924.1018617178 283.3060196859 908.4207941396 287.6374980129z",SignatureCoordinates:{x:910.3,y:264}}),new l({ID:"Pit",Names:[],VectorPath:"M887.58 539.01H818.738V672.28H887.58V539.01Z",SignatureCoordinates:{x:853.2,y:605.6}}),new l({ID:"Blue",Names:[],VectorPath:"M697.24,442.23 736.6165,442.23 736.6165,469.67900000000003 697.24,469.67900000000003z",SignatureCoordinates:{x:716.9,y:456}}),new l({ID:"Upper_mid",Names:[],VectorPath:"M400.91 594.81V548.68H429.32V540.463H512.47V587.38L528 601.43V644.49H470.81L456.84 658.56V666.02H391.36L377.6 594.81H400.91Z",SignatureCoordinates:{x:452.8,y:603.2}}),new l({ID:"Mid",Names:[],VectorPath:"M421.46 461.28H429.32V372.48H484.36V540.463H429.32V516.96H421.46V461.28Z",SignatureCoordinates:{x:452.9,y:456.5}}),new l({ID:"Catwalk",Names:[],VectorPath:"M490.408 372.48H512.47V540.418H490.408V372.48Z",SignatureCoordinates:{x:501.4,y:456.4}}),new l({ID:"Cat_boost",Names:[],VectorPath:"M634.149 396.018L652.065 396.018L652.14 413.95L634.149 413.95L634.149 396.018Z",SignatureCoordinates:{x:643.1,y:405}}),new l({ID:"Lower_tunnel",Names:[],VectorPath:"M420.17 370.5H273.24V420.25H420.17V409.97H429.32V382.37H420.17V370.5Z",SignatureCoordinates:{x:351.3,y:395.4}}),new l({ID:"T_ramp",Names:[],VectorPath:"M149.08 848.23V734.76H86.38V816.35L54.51 848.23H149.08Z",SignatureCoordinates:{x:101.8,y:791.5}}),new l({ID:"Long",Names:[],VectorPath:"M820 267.95L820.19 204.88L896.53 204.88L896.5 337L892.98 343.32V400.1H889.72V442L812.87 442.14L812.81 267.95H820Z",SignatureCoordinates:{x:854.7,y:323.5}}),new l({ID:"Boxes",Names:[],VectorPath:"M707.93 639.56H653.54V547.76H707.93V639.56Z",SignatureCoordinates:{x:680.7,y:593.7}}),new l({ID:"Titanic",Names:[],VectorPath:"M155.24 848.23L155.24 740.99L232.9 740.99V748.77L247.26 763.3H289.15V742.17L331.11 742.17V843.01H283.47V848.23H155.24Z",SignatureCoordinates:{x:243.2,y:794.6}}),new l({ID:"Side_pit",Names:[],VectorPath:"M812.45 539.01H736.63L750.82 553.73V575.457H747.441V664.12H812.43L812.45 539.01Z",SignatureCoordinates:{x:774.5,y:601.6}})],Architecture:"M820.189 92.7232V204.879H763.445L763.546 183.968H657.94V260.65H652.14V178.166H769.668L769.668 199.089H814.495V92.7232L820.189 92.7232Z M134.691,131.65a3.325,3.325 0 1,0 6.65,0a3.325,3.325 0 1,0 -6.65,0 M140.55,125.645a3.325,3.325 0 1,0 6.65,0a3.325,3.325 0 1,0 -6.65,0 M149.99,100.005a3.325,3.325 0 1,0 6.65,0a3.325,3.325 0 1,0 -6.65,0 M240.44,188.635a3.325,3.325 0 1,0 6.65,0a3.325,3.325 0 1,0 -6.65,0 M239.95000000000002,196.675a3.325,3.325 0 1,0 6.65,0a3.325,3.325 0 1,0 -6.65,0 M82.4624,77.1503 97.7085,77.1503 97.7085,90.8327 82.4624,90.8327z M77.42 171H108.358V176.988H77.42V171Z M134.99 171L159.707 171V79.26H165.293V176.988H134.99V171Z M102.428 40.2475L119.1544971132 39.6631874021 119.4504040143 48.1338004682 102.723906901 48.718113066z M177.286,144.413 191.9065,144.413 191.9065,159.9061 177.286,159.9061z M191.589 96.8021L203.8361227863 102.1080458975 198.1409896471 115.2534861616 185.8938668608 109.9475402641z M133.341,300.409 151.4952,300.409 151.4952,316.3368 133.341,316.3368z M179.805 334.129L189.3974691722 324.5365308278 200.0789534981 335.2180151537 190.4864843259 344.8104843259z M172.229 302.218L206.4225215119 281.8217881023 214.5384153356 295.4277945235 180.3448938237 315.8240064212z M216.131,127.128 233.3419,127.128 233.3419,143.0361 216.131,143.0361z M234.691,109.848 247.1587,109.848 247.1587,113.55074 234.691,113.55074z M820.198,176.524 826.89435,176.524 826.89435,192.42680000000001 820.198,192.42680000000001z M763.368 145.649L777.2157940844 148.8586699216 774.0129883663 162.6768490991 760.1651942819 159.4671791775z M651.5724,139.792a4.1776,4.1776 0 1,0 8.3552,0a4.1776,4.1776 0 1,0 -8.3552,0 M656.9304,148.768a4.1776,4.1776 0 1,0 8.3552,0a4.1776,4.1776 0 1,0 -8.3552,0 M696.8804,174.248a4.1776,4.1776 0 1,0 8.3552,0a4.1776,4.1776 0 1,0 -8.3552,0 M705.5304,174.248a4.1776,4.1776 0 1,0 8.3552,0a4.1776,4.1776 0 1,0 -8.3552,0 M820.91488,87.6347a3.49712,3.49712 0 1,0 6.99424,0a3.49712,3.49712 0 1,0 -6.99424,0 M830.60688,86.7291a3.49712,3.49712 0 1,0 6.99424,0a3.49712,3.49712 0 1,0 -6.99424,0 M297.762,236.765 305.97654,236.765 305.97654,244.92128 297.762,244.92128z M286.205 243.631L293.9341557214 244.8420003041 291.5044155591 260.3497091082 283.7752598377 259.1387088041z M634.195,263.225 649.9658000000001,263.225 649.9658000000001,278.9537 634.195,278.9537z M463.569,384.518 484.36510000000004,384.518 484.36510000000004,406.75699999999995 463.569,406.75699999999995z M667.84,100.407 700.5755,100.407 700.5755,115.7804 667.84,115.7804z M728.74959,117.573a3.41641,3.41641 0 1,0 6.83282,0a3.41641,3.41641 0 1,0 -6.83282,0 M724.99959,110.416a3.41641,3.41641 0 1,0 6.83282,0a3.41641,3.41641 0 1,0 -6.83282,0 M724.99959,103.416a3.41641,3.41641 0 1,0 6.83282,0a3.41641,3.41641 0 1,0 -6.83282,0 M736.586 442.357L752.3675210883 442.1640973547 752.5607745168 457.9743162991 736.7792534285 458.1672189445z M331.216,847 345.2145,847 345.2145,860.9985 331.216,860.9985z M311.304,797.043 328.2057,797.043 328.2057,843.0118 311.304,843.0118z M135.226 895.619L135.226 912.6591 96.2946 912.6591 96.2946 895.619z M697.238,442.227 736.6145,442.227 736.6145,469.676 697.238,469.676z M896.532 244.597L912.2130675782 240.265521673 924.1018617178 283.3060196859 908.4207941396 287.6374980129z M671.437 701.329L688.098 696.727L699.998 739.808L683.337 744.41L671.437 701.329Z M717.6730699999999,531.578a3.38693,3.38693 0 1,0 6.77386,0a3.38693,3.38693 0 1,0 -6.77386,0 M494.00007,584.387a3.38693,3.38693 0 1,0 6.77386,0a3.38693,3.38693 0 1,0 -6.77386,0 M487.00007,584.387a3.38693,3.38693 0 1,0 6.77386,0a3.38693,3.38693 0 1,0 -6.77386,0 M199.00007,750.387a3.38693,3.38693 0 1,0 6.77386,0a3.38693,3.38693 0 1,0 -6.77386,0 M191.00507,745.387a3.38693,3.38693 0 1,0 6.77386,0a3.38693,3.38693 0 1,0 -6.77386,0 M616.05994,843.404a4.12906,4.12906 0 1,0 8.25812,0a4.12906,4.12906 0 1,0 -8.25812,0 M353.588,404.013 369.82050000000004,404.013 369.82050000000004,420.25019999999995 353.588,420.25019999999995z M232.9 734.756H149.08V848.23H155.24V740.993H232.9V734.756Z M204.722 590.049H254.4V596.207H204.722V590.049Z M89.64 590.049H150.002V596.207H89.64V590.049Z M429.233,841.088 541.467,841.088 541.467,846.99694 429.233,846.99694z M229.239 698.186L240.5010417735 687.6833881543 247.7995975784 695.5096928457 236.5375558049 706.0123046914z M220.689 716.009L223.2712107724 700.9589140359 233.8184923662 702.7685584603 231.2362815937 717.8186444244z M221.631 733.832L221.2927442713 718.5657469213 231.9915183837 718.3286932307 232.3297741124 733.5949463094z M812.448 539.01V636.978H818.738V539.01H812.448Z M887.58 539.01V636.978H893.87V539.01H887.58Z M300.01 144.33V112.81H310.53V144.33H300.01Z M623.799 348.444H629.998V321.865H652.14V315.82H623.799V348.444Z M294.338,244.914 309.9791,244.914 309.9791,260.4788 294.338,260.4788z M800.121,152.415 814.3359,152.415 814.3359,166.59949999999998 800.121,166.59949999999998z M222.028,130.419 233.34189999999998,130.419 233.34189999999998,143.03580000000002 222.028,143.03580000000002z M233.342,113.551 247.1594,113.551 247.1594,143.0358 233.342,143.0358z M119.539 39.2088H128.13V47.9472H119.539V39.2088Z M134.99,178.354 157.0002,178.354 157.0002,200.99980000000002 134.99,200.99980000000002z M759.948,162.677 774.1629,162.677 774.1629,176.86149999999998 759.948,176.86149999999998z M667.84,100.407 682.1487000000001,100.407 682.1487000000001,115.7804 667.84,115.7804z M683.292 101.103L691.113199929 100.4771516875 692.3319617871 115.7079671543 684.5107618581 116.3338154668z M82.5568,162.187 98.84979999999999,162.187 98.84979999999999,170.99987000000002 82.5568,170.99987000000002z M172.704 761.07L172.4150568161 776.8742589022 156.8003662346 776.588781523 157.0893094185 760.7845226208z M170.997 741.832L170.9136011224 757.6386799878 155.2965184956 757.5562814599 155.3799173732 741.7496014721z M187.519 741.144L189.7830780371 756.7879137767 174.3268092796 759.0248347371 172.0627312424 743.3809209604z M133.371 581.823L141.2350700859 579.9947531216 143.1475262947 588.2210434762 135.2834562088 590.0492903546z M258.102 116.734V112.847H247.159V116.734H258.102Z M258.102 245.23V129.758H247.159V245.23H258.102Z M916.535,482.376 930.7814999999999,482.376 930.7814999999999,489.33837 916.535,489.33837z M634.15 396.018L652.065 396.018L652.14 413.951L634.15 413.95L634.15 396.018Z M111.023 21.89H128.13V39.2088H111.023V21.89Z M490.391 372.48H484.365V540.463H490.391V372.48Z",Ground:"M128.132 21.8873H79.2978C79.3015 41.5888 79.2997 58.9049 79.298 75.2121V75.2129V75.2137V75.2145V75.2153C79.2966 89.7263 79.2952 103.438 79.2978 117.321H77.4074L77.4186 176.988H64.8579V197.735H72.483V205.651H59.3579V253.082H71.7763V259.781H65.8879V316.352H93.9301V398.785H63.1606V483.985H135.196V497.889H163.153V554.972H121.639V574.761H89.6378V681.898H94.5332V730.491H86.3836V816.355L54.5075 848.231V936.612H146.438V944.007H317.282V940.162H469.785V965.455H582.794V929.807H641.517V846.923H624.319V791.209H660.836V798.398H710.985L707.932 725.167V547.885H699.057V539.01H704.678V535.756H717.842V539.01H736.628L750.823 553.728V575.457H747.437V664.124H812.432V636.973H818.722V672.284H887.579V636.957H893.87V643.879H931.268V482.043L889.72 479.96V400.096H892.976V343.316L907.176 316.28H935.28V255.601L931.287 208.145H896.526V99.4003H889.574V35.3982H764.148V100.318H597.439V111.973H603.499V153.09H551.953V185.327L534.061 203.22H470.428V144.328H310.533V112.808H247.159V99.2504L212.819 79.2629H128.132V21.8873ZM331.114 742.173V846.997H429.233V666.023H391.359L377.602 594.808H400.909V548.68H429.32V516.957H421.464V461.279H429.32V409.972H420.17V420.25H319.011V483.615H204.258V497.889H192.766V554.967H233.415V574.686H254.398V594.808L267.505 669.907V700.156H247.096L232.903 714.485V748.771L247.262 763.303H289.146V742.173H331.114ZM456.843 658.557L470.806 644.49H554.178L568.561 658.495V763.027H561.55V798.039L547.725 812.108H526.509V805.088H474.301L460.363 790.989V749.138H456.843V658.557ZM163.79 357.032V315.8H123.318V398.613H178.524V426.55H290.102V420.247H273.237V370.502H420.175V382.374H429.318V347.03H411.577V254.234H378.553V261.057H350.714V254.234H315.097V261.057H269.518V254.234H258.1V245.227H247.164V254.234H242.634V292.853L202.104 335.703L191.733 357.032H163.79ZM512.475 587.382V431.849L526.545 417.595H603.362V413.952H652.135V260.65H736.035V267.949H812.813L812.867 442.141H695.248V441.442L694.062 441.436L652.471 450.744V480.578H648.819V536.25H657.738V538.206H663.438V547.761H653.543V639.564H663.171V646.949H660.138V650.84H643.323V641.476H645.23V601.427H528.004L512.475 587.382ZM471.781 274.531V314.276H485.03V331.204H471.781V372.485H512.059V358.479H555.421V372.173H596.3V331.08H594.698V291.187H603.746V250.195H563.537L541.212 274.531H471.781Z",Width:986,Height:986})];class f{constructor(){this.GameMap=h[0],this.OnMouseMove_ArrowFunction=t=>{this.OnMouseMove(t)},this.OnResize_ArrowFunction=()=>{this.OnResize()},this.OnThemeChange_ArrowFunction=()=>{this.OnThemeChange()},this.Element=document.createElement("canvas"),this.Element.className="Map",this.Context=this.Element.getContext("2d"),this.Size(),this.Draw(),this.Element.addEventListener("click",(t=>{this.OnClick(t)})),window.addEventListener("resize",this.OnResize_ArrowFunction),window.addEventListener("mousemove",this.OnMouseMove_ArrowFunction),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this.OnThemeChange_ArrowFunction)}Draw(){this.Clear(),this.DrawGround(),this.DrawArchitecture(),this.DrawPositions()}DrawGround(){const t=new Path2D(this.GameMap.Ground);this.DrawGroundFill(t),this.DrawGroundStroke(t)}DrawGroundFill(t){this.Context.fillStyle=window.matchMedia("(prefers-color-scheme: dark)").matches?"#2A2B2F":"#797C86",this.Context.fill(t)}DrawGroundStroke(t){this.Context.strokeStyle="#000",this.Context.lineWidth=this.StrokeWidth,this.Context.stroke(t)}DrawArchitecture(){const t=new Path2D(this.GameMap.Architecture);this.DrawArchitectureFill(t),this.DrawArchitectureStroke(t)}DrawArchitectureFill(t){this.Context.fillStyle="#FFF",this.Context.fill(t)}DrawArchitectureStroke(t){this.Context.strokeStyle="#000",this.Context.lineWidth=this.StrokeWidth,this.Context.stroke(t)}DrawPositions(){const t=new Path2D(this.MergePositionPaths());this.DrawPositionsFill(t),this.DrawPositionStroke(t)}DrawPositionsFill(t){this.Context.fillStyle="#99072130",this.Context.fill(t)}DrawPositionStroke(t){this.Context.strokeStyle="#990721",this.Context.lineWidth=1.5*this.StrokeWidth,this.Context.stroke(t)}MergePositionPaths(){let t="";for(const n of this.GameMap.Positions)t+=n.VectorPath+" ";return t}get StrokeWidth(){const t=this.Context.getTransform();return Math.min(1/t.a,.75)}get PixelDensityMultiplier(){return window.devicePixelRatio}Clear(){const t=this.Context.getTransform();this.Context.clearRect(-t.e/t.a,-t.f/t.a,this.Element.width/t.a,this.Element.height/t.a)}OnClick(t){const n=this.CoordinatesToPosition({x:t.x,y:t.y});n&&alert(n.Names.filter((t=>s.PositionNameLanguages.Value.get(t.Language))).map((t=>t.Name)).join("\n"))}CoordinatesToPosition(t){for(const n of this.GameMap.Positions)if(this.IsPointInPosition(t,n))return n}IsPointInPosition(t,n){return this.Context.isPointInPath(new Path2D(n.VectorPath),t.x*this.PixelDensityMultiplier,t.y*this.PixelDensityMultiplier)}OnMouseMove(t){this.CursorPointer(t)}CursorPointer(t){this.Element.style.cursor=this.IsPointInPoisition({x:t.x,y:t.y})?"pointer":""}IsPointInPoisition(t){for(const n of this.GameMap.Positions)if(this.IsPointInPosition(t,n))return 1;return 0}Size(){this.Element.width=window.innerWidth*this.PixelDensityMultiplier,this.Element.height=window.innerHeight*this.PixelDensityMultiplier}OnResize(){this.Resize(),this.Draw()}Resize(){const t=this.Context.getTransform();this.Size(),this.Context.transform(t.a,t.b,t.c,t.d,t.e,t.f)}OnThemeChange(){this.Draw()}Destruct(){window.removeEventListener("resize",this.OnResize_ArrowFunction),window.removeEventListener("mousemove",this.OnMouseMove_ArrowFunction),window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",this.OnThemeChange_ArrowFunction)}}function p(){}function g(t){return null==t?p:function(){return this.querySelector(t)}}function d(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function m(){return[]}function y(t){return null==t?m:function(){return this.querySelectorAll(t)}}function v(t){return function(){return this.matches(t)}}function _(t){return function(n){return n.matches(t)}}var w=Array.prototype.find;function V(){return this.firstElementChild}var b=Array.prototype.filter;function x(){return Array.from(this.children)}function H(t){return Array(t.length)}function M(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function L(t){return function(){return t}}function P(t,n,e,r,i,o){for(var a,u=0,s=n.length,l=o.length;u<l;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new M(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function z(t,n,e,r,i,o,a){var u,s,l,c=new Map,h=n.length,f=o.length,p=Array(h);for(u=0;u<h;++u)(s=n[u])&&(p[u]=l=a.call(s,s.__data__,u,n)+"",c.has(l)?i[u]=s:c.set(l,s));for(u=0;u<f;++u)l=a.call(t,o[u],u,o)+"",(s=c.get(l))?(r[u]=s,s.__data__=o[u],c.delete(l)):e[u]=new M(t,o[u]);for(u=0;u<h;++u)(s=n[u])&&c.get(p[u])===s&&(i[u]=s)}function N(t){return t.__data__}function E(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function C(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}M.prototype={constructor:M,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var k="http://www.w3.org/1999/xhtml";const S={svg:"http://www.w3.org/2000/svg",xhtml:k,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function A(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),S.hasOwnProperty(n)?{space:S[n],local:t}:t}function D(t){return function(){this.removeAttribute(t)}}function I(t){return function(){this.removeAttributeNS(t.space,t.local)}}function T(t,n){return function(){this.setAttribute(t,n)}}function O(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function R(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function $(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function j(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Z(t){return function(){this.style.removeProperty(t)}}function X(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Y(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function F(t,n){return t.style.getPropertyValue(n)||j(t).getComputedStyle(t,null).getPropertyValue(n)}function G(t){return function(){delete this[t]}}function U(t,n){return function(){this[t]=n}}function q(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function B(t){return t.trim().split(/^|\s+/)}function W(t){return t.classList||new K(t)}function K(t){this._node=t,this._names=B(t.getAttribute("class")||"")}function J(t,n){for(var e=W(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Q(t,n){for(var e=W(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function tt(t){return function(){J(this,t)}}function nt(t){return function(){Q(this,t)}}function et(t,n){return function(){(n.apply(this,arguments)?J:Q)(this,t)}}function rt(){this.textContent=""}function it(t){return function(){this.textContent=t}}function ot(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function at(){this.innerHTML=""}function ut(t){return function(){this.innerHTML=t}}function st(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function lt(){this.nextSibling&&this.parentNode.appendChild(this)}function ct(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ht(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===k&&n.documentElement.namespaceURI===k?n.createElement(t):n.createElementNS(e,t)}}function ft(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function pt(t){var n=A(t);return(n.local?ft:ht)(n)}function gt(){return null}function dt(){var t=this.parentNode;t&&t.removeChild(this)}function mt(){var t=this.cloneNode(0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function yt(){var t=this.cloneNode(1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function vt(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function _t(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function wt(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function Vt(t,n,e){var r=j(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,0,0)),t.dispatchEvent(i)}function bt(t,n){return function(){return Vt(this,t,n)}}function xt(t,n){return function(){return Vt(this,t,n.apply(this,arguments))}}K.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ht=[null];function Mt(t,n){this._groups=t,this._parents=n}function Lt(){return new Mt([[document.documentElement]],Ht)}Mt.prototype=Lt.prototype={constructor:Mt,select:function(t){"function"!=typeof t&&(t=g(t));for(var n=this._groups,e=n.length,r=Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,l=r[i]=Array(s),c=0;c<s;++c)(o=u[c])&&(a=t.call(o,o.__data__,c,u))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new Mt(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return d(t.apply(this,arguments))}}(t):y(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,l=0;l<s;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),i.push(a));return new Mt(r,i)},selectChild:function(t){return this.select(null==t?V:function(t){return function(){return w.call(this.children,t)}}("function"==typeof t?t:_(t)))},selectChildren:function(t){return this.selectAll(null==t?x:function(t){return function(){return b.call(this.children,t)}}("function"==typeof t?t:_(t)))},filter:function(t){"function"!=typeof t&&(t=v(t));for(var n=this._groups,e=n.length,r=Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&s.push(o);return new Mt(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,N);var e=n?z:P,r=this._parents,i=this._groups;"function"!=typeof t&&(t=L(t));for(var o=i.length,a=Array(o),u=Array(o),s=Array(o),l=0;l<o;++l){var c=r[l],h=i[l],f=h.length,p=E(t.call(c,c&&c.__data__,l,r)),g=p.length,d=u[l]=Array(g),m=a[l]=Array(g),y=s[l]=Array(f);e(c,h,d,m,y,p,n);for(var v,_,w=0,V=0;w<g;++w)if(v=d[w]){for(w>=V&&(V=w+1);!(_=m[V])&&++V<g;);v._next=_||null}}return(a=new Mt(a,r))._enter=u,a._exit=s,a},enter:function(){return new Mt(this._enter||this._groups.map(H),this._parents)},exit:function(){return new Mt(this._exit||this._groups.map(H),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),u=Array(i),s=0;s<a;++s)for(var l,c=e[s],h=r[s],f=c.length,p=u[s]=Array(f),g=0;g<f;++g)(l=c[g]||h[g])&&(p[g]=l);for(;s<i;++s)u[s]=e[s];return new Mt(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=C);for(var e=this._groups,r=e.length,i=Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,l=i[o]=Array(s),c=0;c<s;++c)(a=u[c])&&(l[c]=a);l.sort(n)}return new Mt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=A(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?I:D:"function"==typeof n?e.local?$:R:e.local?O:T)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?Z:"function"==typeof n?Y:X)(t,n,e??"")):F(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?G:"function"==typeof n?q:U)(t,n)):this.node()[t]},classed:function(t,n){var e=B(t+"");if(arguments.length<2){for(var r=W(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return 0;return 1}return this.each(("function"==typeof n?et:n?tt:nt)(e,n))},text:function(t){return arguments.length?this.each(null==t?rt:("function"==typeof t?ot:it)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?at:("function"==typeof t?st:ut)(t)):this.node().innerHTML},raise:function(){return this.each(lt)},lower:function(){return this.each(ct)},append:function(t){var n="function"==typeof t?t:pt(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:pt(t),r=null==n?gt:"function"==typeof n?n:g(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(dt)},clone:function(t){return this.select(t?yt:mt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=vt(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?wt:_t,r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?xt:bt)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const Pt=Lt;function zt(t){return"string"==typeof t?new Mt([[document.querySelector(t)]],[document.documentElement]):new Mt([[t]],Ht)}var Nt={value:()=>{}};function Et(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw Error("illegal type: "+t);r[t]=[]}return new Ct(r)}function Ct(t){this._=t}function kt(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw Error("unknown type: "+t);return{type:t,name:e}}))}function St(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function At(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Nt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}Ct.prototype=Et.prototype={constructor:Ct,on:function(t,n){var e,r=this._,i=kt(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=At(r[e],t.name,n);else if(null==n)for(e in r)r[e]=At(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=St(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Ct(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};const Dt=Et;var It,Tt,Ot=0,Rt=0,$t=0,jt=0,Zt=0,Xt=0,Yt="object"==typeof performance&&performance.now?performance:Date,Ft="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Gt(){return Zt||(Ft(Ut),Zt=Yt.now()+Xt)}function Ut(){Zt=0}function qt(){this._call=this._time=this._next=null}function Bt(t,n,e){var r=new qt;return r.restart(t,n,e),r}function Wt(){Zt=(jt=Yt.now())+Xt,Ot=Rt=0;try{!function(){Gt(),++Ot;for(var t,n=It;n;)(t=Zt-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Ot}()}finally{Ot=0,function(){for(var t,n,e=It,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:It=n);Tt=t,Jt(r)}(),Zt=0}}function Kt(){var t=Yt.now(),n=t-jt;n>1e3&&(Xt-=n,jt=t)}function Jt(t){Ot||(Rt&&(Rt=clearTimeout(Rt)),t-Zt>24?(t<1/0&&(Rt=setTimeout(Wt,t-Yt.now()-Xt)),$t&&($t=clearInterval($t))):($t||(jt=Yt.now(),$t=setInterval(Kt,1e3)),Ot=1,Ft(Wt)))}function Qt(t,n,e){var r=new qt;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}qt.prototype=Bt.prototype={constructor:qt,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Gt():+e)+(null==n?0:+n),this._next||Tt===this||(Tt?Tt._next=this:It=this,Tt=this),this._call=t,this._time=e,Jt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Jt())}};var tn=Dt("start","end","cancel","interrupt"),nn=[];function en(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(s){var l,c,h,f;if(1!==e.state)return u();for(l in i)if((f=i[l]).name===e.name){if(3===f.state)return Qt(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<n&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(Qt((function(){3===e.state&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(s))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=Array(h=e.tween.length),l=0,c=-1;l<h;++l)(f=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=f);r.length=c+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Bt((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:tn,tween:nn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function rn(t,n){var e=an(t,n);if(e.state>0)throw Error("too late; already scheduled");return e}function on(t,n){var e=an(t,n);if(e.state>3)throw Error("too late; already running");return e}function an(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw Error("transition not found");return e}function un(t,n){var e,r,i,o=t.__transition,a=1;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=0;a&&delete t.__transition}}function sn(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var ln,cn=180/Math.PI,hn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function fn(t,n,e,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*cn,skewX:Math.atan(s)*cn,scaleX:a,scaleY:u}}function pn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,n,null,e);u.push({i:s-4,x:sn(t,i)},{i:s-2,x:sn(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:sn(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:sn(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,s),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:sn(t,e)},{i:u-2,x:sn(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var gn=pn((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?hn:fn(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),dn=pn((function(t){return null==t?hn:(ln||(ln=document.createElementNS("http://www.w3.org/2000/svg","g")),ln.setAttribute("transform",t),(t=ln.transform.baseVal.consolidate())?fn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):hn)}),", ",")",")");function mn(t,n){var e,r;return function(){var i=on(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function yn(t,n,e){var r,i;if("function"!=typeof e)throw Error();return function(){var o=on(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,l=i.length;s<l;++s)if(i[s].name===n){i[s]=u;break}s===l&&i.push(u)}o.tween=i}}function vn(t,n,e){var r=t._id;return t.each((function(){var t=on(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return an(t,r).value[n]}}function _n(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function wn(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Vn(){}var bn=.7,xn=1/bn,Hn="\\s*([+-]?\\d+)\\s*",Mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pn=/^#([0-9a-f]{3,8})$/,zn=RegExp(`^rgb\\(${Hn},${Hn},${Hn}\\)$`),Nn=RegExp(`^rgb\\(${Ln},${Ln},${Ln}\\)$`),En=RegExp(`^rgba\\(${Hn},${Hn},${Hn},${Mn}\\)$`),Cn=RegExp(`^rgba\\(${Ln},${Ln},${Ln},${Mn}\\)$`),kn=RegExp(`^hsl\\(${Mn},${Ln},${Ln}\\)$`),Sn=RegExp(`^hsla\\(${Mn},${Ln},${Ln},${Mn}\\)$`),An={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Dn(){return this.rgb().formatHex()}function In(){return this.rgb().formatRgb()}function Tn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Pn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?On(n):3===e?new Zn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Rn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Rn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=zn.exec(t))?new Zn(n[1],n[2],n[3],1):(n=Nn.exec(t))?new Zn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=En.exec(t))?Rn(n[1],n[2],n[3],n[4]):(n=Cn.exec(t))?Rn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=kn.exec(t))?qn(n[1],n[2]/100,n[3]/100,1):(n=Sn.exec(t))?qn(n[1],n[2]/100,n[3]/100,n[4]):An.hasOwnProperty(t)?On(An[t]):"transparent"===t?new Zn(NaN,NaN,NaN,0):null}function On(t){return new Zn(t>>16&255,t>>8&255,255&t,1)}function Rn(t,n,e,r){return r<=0&&(t=n=e=NaN),new Zn(t,n,e,r)}function $n(t){return t instanceof Vn||(t=Tn(t)),t?new Zn((t=t.rgb()).r,t.g,t.b,t.opacity):new Zn}function jn(t,n,e,r){return 1===arguments.length?$n(t):new Zn(t,n,e,r??1)}function Zn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Xn(){return`#${Un(this.r)}${Un(this.g)}${Un(this.b)}`}function Yn(){const t=Fn(this.opacity);return`${1===t?"rgb(":"rgba("}${Gn(this.r)}, ${Gn(this.g)}, ${Gn(this.b)}${1===t?")":`, ${t})`}`}function Fn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Gn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Un(t){return((t=Gn(t))<16?"0":"")+t.toString(16)}function qn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Wn(t,n,e,r)}function Bn(t){if(t instanceof Wn)return new Wn(t.h,t.s,t.l,t.opacity);if(t instanceof Vn||(t=Tn(t)),!t)return new Wn;if(t instanceof Wn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new Wn(a,u,s,t.opacity)}function Wn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Kn(t){return(t=(t||0)%360)<0?t+360:t}function Jn(t){return Math.max(0,Math.min(1,t||0))}function Qn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function te(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}_n(Vn,Tn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Dn,formatHex:Dn,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Bn(this).formatHsl()},formatRgb:In,toString:In}),_n(Zn,jn,wn(Vn,{brighter(t){return t=null==t?xn:Math.pow(xn,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?bn:Math.pow(bn,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zn(Gn(this.r),Gn(this.g),Gn(this.b),Fn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xn,formatHex:Xn,formatHex8:function(){return`#${Un(this.r)}${Un(this.g)}${Un(this.b)}${Un(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Yn,toString:Yn})),_n(Wn,(function(t,n,e,r){return 1===arguments.length?Bn(t):new Wn(t,n,e,r??1)}),wn(Vn,{brighter(t){return t=null==t?xn:Math.pow(xn,t),new Wn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?bn:Math.pow(bn,t),new Wn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Zn(Qn(t>=240?t-240:t+120,i,r),Qn(t,i,r),Qn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Wn(Kn(this.h),Jn(this.s),Jn(this.l),Fn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fn(this.opacity);return`${1===t?"hsl(":"hsla("}${Kn(this.h)}, ${100*Jn(this.s)}%, ${100*Jn(this.l)}%${1===t?")":`, ${t})`}`}}));const ne=t=>()=>t;function ee(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):ne(isNaN(t)?n:t)}const re=function t(n){var e=function(t){return 1==(t=+t)?ee:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):ne(isNaN(n)?e:n)}}(n);function r(t,n){var r=e((t=jn(t)).r,(n=jn(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=ee(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function ie(t){return function(n){var e,r,i=n.length,o=Array(i),a=Array(i),u=Array(i);for(e=0;e<i;++e)r=jn(n[e]),o[e]=r.r||0,a[e]=r.g||0,u[e]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}ie((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<n-1?t[r+2]:2*o-i;return te((e-r/n)*n,a,i,o,u)}})),ie((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],u=t[(r+2)%n];return te((e-r/n)*n,i,o,a,u)}}));var oe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ae=RegExp(oe.source,"g");function ue(t,n){var e,r,i,o=oe.lastIndex=ae.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=oe.exec(t))&&(r=ae.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:sn(e,r)})),o=ae.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}function se(t,n){var e;return("number"==typeof n?sn:n instanceof Tn?re:(e=Tn(n))?(n=e,re):ue)(t,n)}function le(t){return function(){this.removeAttribute(t)}}function ce(t){return function(){this.removeAttributeNS(t.space,t.local)}}function he(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function fe(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function pe(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttribute(t)}}function ge(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttributeNS(t.space,t.local)}}function de(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function me(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function ye(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&me(t,i)),e}return i._value=n,i}function ve(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&de(t,i)),e}return i._value=n,i}function _e(t,n){return function(){rn(this,t).delay=+n.apply(this,arguments)}}function we(t,n){return n=+n,function(){rn(this,t).delay=n}}function Ve(t,n){return function(){on(this,t).duration=+n.apply(this,arguments)}}function be(t,n){return n=+n,function(){on(this,t).duration=n}}function xe(t,n){if("function"!=typeof n)throw Error();return function(){on(this,t).ease=n}}function He(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?rn:on;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}var Me=Pt.prototype.constructor;function Le(t){return function(){this.style.removeProperty(t)}}function Pe(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function ze(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&Pe(t,o,e)),r}return o._value=n,o}function Ne(t){return function(n){this.textContent=t.call(this,n)}}function Ee(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&Ne(r)),n}return r._value=t,r}var Ce=0;function ke(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Se(t){return Pt().transition(t)}function Ae(){return++Ce}var De=Pt.prototype;ke.prototype=Se.prototype={constructor:ke,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=g(t));for(var r=this._groups,i=r.length,o=Array(i),a=0;a<i;++a)for(var u,s,l=r[a],c=l.length,h=o[a]=Array(c),f=0;f<c;++f)(u=l[f])&&(s=t.call(u,u.__data__,f,l))&&("__data__"in u&&(s.__data__=u.__data__),h[f]=s,en(h[f],n,e,f,h,an(u,e)));return new ke(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=y(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,l=r[u],c=l.length,h=0;h<c;++h)if(s=l[h]){for(var f,p=t.call(s,s.__data__,h,l),g=an(s,e),d=0,m=p.length;d<m;++d)(f=p[d])&&en(f,n,e,d,p,g);o.push(p),a.push(s)}return new ke(o,a,n,e)},selectChild:De.selectChild,selectChildren:De.selectChildren,filter:function(t){"function"!=typeof t&&(t=v(t));for(var n=this._groups,e=n.length,r=Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&s.push(o);return new ke(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw Error();for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=Array(r),u=0;u<o;++u)for(var s,l=n[u],c=e[u],h=l.length,f=a[u]=Array(h),p=0;p<h;++p)(s=l[p]||c[p])&&(f[p]=s);for(;u<r;++u)a[u]=n[u];return new ke(a,this._parents,this._name,this._id)},selection:function(){return new Me(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Ae(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,l=0;l<s;++l)if(a=u[l]){var c=an(a,n);en(a,t,e,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ke(r,this._parents,t,e)},call:De.call,nodes:De.nodes,node:De.node,size:De.size,empty:De.empty,each:De.each,on:function(t,n){var e=this._id;return arguments.length<2?an(this.node(),e).on.on(t):this.each(He(e,t,n))},attr:function(t,n){var e=A(t),r="transform"===e?dn:se;return this.attrTween(t,"function"==typeof n?(e.local?ge:pe)(e,r,vn(this,"attr."+t,n)):null==n?(e.local?ce:le)(e):(e.local?fe:he)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw Error();var r=A(t);return this.tween(e,(r.local?ye:ve)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?gn:se;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=F(this,t),a=(this.style.removeProperty(t),F(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,Le(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=F(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=F(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u))}}(t,r,vn(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var s=on(this,t),l=s.on,c=null==s.value[a]?o||(o=Le(n)):void 0;l===e&&i===c||(r=(e=l).copy()).on(u,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=F(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw Error();return this.tween(r,ze(t,n,e??""))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=n??""}}(vn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw Error();return this.tween(n,Ee(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=an(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?mn:yn)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?_e:we)(n,t)):an(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Ve:be)(n,t)):an(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(xe(n,t)):an(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw Error();return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw Error();on(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},s={value:function(){0==--i&&o()}};e.each((function(){var e=on(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:De[Symbol.iterator]};var Ie={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Te(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw Error(`transition ${n} not found`);return e}Pt.prototype.interrupt=function(t){return this.each((function(){un(this,t)}))},Pt.prototype.transition=function(t){var n,e;t instanceof ke?(n=t._id,t=t._name):(n=Ae(),(e=Ie).time=Gt(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,l=0;l<s;++l)(a=u[l])&&en(a,t,n,l,u,e||Te(a,n));return new ke(r,this._parents,t,n)};const Oe={capture:1,passive:0};function Re(t){t.preventDefault(),t.stopImmediatePropagation()}function $e(t){var n=t.document.documentElement,e=zt(t).on("dragstart.drag",Re,Oe);"onselectstart"in n?e.on("selectstart.drag",Re,Oe):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function je(t,n){var e=t.document.documentElement,r=zt(t).on("dragstart.drag",null);n&&(r.on("click.drag",Re,Oe),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function Ze(t){return((t=Math.exp(t))+1/t)/2}const Xe=function t(n,e,r){function i(t,i){var o,a,u=t[0],s=t[1],l=t[2],c=i[0],h=i[1],f=i[2],p=c-u,g=h-s,d=p*p+g*g;if(d<1e-12)a=Math.log(f/l)/n,o=function(t){return[u+t*p,s+t*g,l*Math.exp(n*t*a)]};else{var m=Math.sqrt(d),y=(f*f-l*l+r*d)/(2*l*e*m),v=(f*f-l*l-r*d)/(2*f*e*m),_=Math.log(Math.sqrt(y*y+1)-y);a=(Math.log(Math.sqrt(v*v+1)-v)-_)/n,o=function(t){var r,i=t*a,o=Ze(_),c=l/(e*m)*(o*(((r=Math.exp(2*(r=n*i+_)))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(_));return[u+c*p,s+c*g,l*o/Ze(n*i+_)]}}return o.duration=1e3*a*n/Math.SQRT2,o}return i.rho=function(n){var e=Math.max(.001,+n),r=e*e;return t(e,r,r*r)},i}(Math.SQRT2,2,4);function Ye(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}const Fe=t=>()=>t;function Ge(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:1,configurable:1},sourceEvent:{value:n,enumerable:1,configurable:1},target:{value:e,enumerable:1,configurable:1},transform:{value:r,enumerable:1,configurable:1},_:{value:i}})}function Ue(t,n,e){this.k=t,this.x=n,this.y=e}Ue.prototype={constructor:Ue,scale:function(t){return 1===t?this:new Ue(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Ue(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var qe=new Ue(1,0,0);function Be(t){t.stopImmediatePropagation()}function We(t){t.preventDefault(),t.stopImmediatePropagation()}function Ke(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function Je(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Qe(){return this.__zoom||qe}function tr(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function nr(){return navigator.maxTouchPoints||"ontouchstart"in this}function er(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function rr(){var t,n,e,r=Ke,i=Je,o=er,a=tr,u=nr,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,h=Xe,f=Dt("start","zoom","end"),p=500,g=0,d=10;function m(t){t.property("__zoom",Qe).on("wheel.zoom",x,{passive:0}).on("mousedown.zoom",H).on("dblclick.zoom",M).filter(u).on("touchstart.zoom",L).on("touchmove.zoom",P).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,n){return(n=Math.max(s[0],Math.min(s[1],n)))===t.k?t:new Ue(n,t.x,t.y)}function v(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new Ue(t.k,r,i)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function w(t,n,e,r){t.on("start.zoom",(function(){V(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){V(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,a=V(t,o).event(r),u=i.apply(t,o),s=null==e?_(u):"function"==typeof e?e.apply(t,o):e,l=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),c=t.__zoom,f="function"==typeof n?n.apply(t,o):n,p=h(c.invert(s).concat(l/c.k),f.invert(s).concat(l/f.k));return function(t){if(1===t)t=f;else{var n=p(t),e=l/n[2];t=new Ue(e,s[0]-n[0]*e,s[1]-n[1]*e)}a.zoom(null,t)}}))}function V(t,n,e){return!e&&t.__zooming||new b(t,n)}function b(t,n){this.that=t,this.args=n,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,n),this.taps=0}function x(t,...n){if(r.apply(this,arguments)){var e=V(this,n).event(t),i=this.__zoom,u=Math.max(s[0],Math.min(s[1],i.k*Math.pow(2,a.apply(this,arguments)))),c=Ye(t);if(e.wheel)e.mouse[0][0]===c[0]&&e.mouse[0][1]===c[1]||(e.mouse[1]=i.invert(e.mouse[0]=c)),clearTimeout(e.wheel);else{if(i.k===u)return;e.mouse=[c,i.invert(c)],un(this),e.start()}We(t),e.wheel=setTimeout(h,150),e.zoom("mouse",o(v(y(i,u),e.mouse[0],e.mouse[1]),e.extent,l))}function h(){e.wheel=null,e.end()}}function H(t,...n){if(!e&&r.apply(this,arguments)){var i=t.currentTarget,a=V(this,n,1).event(t),u=zt(t.view).on("mousemove.zoom",f,1).on("mouseup.zoom",p,1),s=Ye(t,i),c=t.clientX,h=t.clientY;$e(t.view),Be(t),a.mouse=[s,this.__zoom.invert(s)],un(this),a.start()}function f(t){if(We(t),!a.moved){var n=t.clientX-c,e=t.clientY-h;a.moved=n*n+e*e>g}a.event(t).zoom("mouse",o(v(a.that.__zoom,a.mouse[0]=Ye(t,i),a.mouse[1]),a.extent,l))}function p(t){u.on("mousemove.zoom mouseup.zoom",null),je(t.view,a.moved),We(t),a.event(t).end()}}function M(t,...n){if(r.apply(this,arguments)){var e=this.__zoom,a=Ye(t.changedTouches?t.changedTouches[0]:t,this),u=e.invert(a),s=e.k*(t.shiftKey?.5:2),h=o(v(y(e,s),a,u),i.apply(this,n),l);We(t),c>0?zt(this).transition().duration(c).call(w,h,a,t):zt(this).call(m.transform,h,a,t)}}function L(e,...i){if(r.apply(this,arguments)){var o,a,u,s,l=e.touches,c=l.length,h=V(this,i,e.changedTouches.length===c).event(e);for(Be(e),a=0;a<c;++a)s=[s=Ye(u=l[a],this),this.__zoom.invert(s),u.identifier],h.touch0?h.touch1||h.touch0[2]===s[2]||(h.touch1=s,h.taps=0):(h.touch0=s,o=1,h.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(h.taps<2&&(n=s[0],t=setTimeout((function(){t=null}),p)),un(this),h.start())}}function P(t,...n){if(this.__zooming){var e,r,i,a,u=V(this,n).event(t),s=t.changedTouches,c=s.length;for(We(t),e=0;e<c;++e)i=Ye(r=s[e],this),u.touch0&&u.touch0[2]===r.identifier?u.touch0[0]=i:u.touch1&&u.touch1[2]===r.identifier&&(u.touch1[0]=i);if(r=u.that.__zoom,u.touch1){var h=u.touch0[0],f=u.touch0[1],p=u.touch1[0],g=u.touch1[1],d=(d=p[0]-h[0])*d+(d=p[1]-h[1])*d,m=(m=g[0]-f[0])*m+(m=g[1]-f[1])*m;r=y(r,Math.sqrt(d/m)),i=[(h[0]+p[0])/2,(h[1]+p[1])/2],a=[(f[0]+g[0])/2,(f[1]+g[1])/2]}else{if(!u.touch0)return;i=u.touch0[0],a=u.touch0[1]}u.zoom("touch",o(v(r,i,a),u.extent,l))}}function z(t,...r){if(this.__zooming){var i,o,a=V(this,r).event(t),u=t.changedTouches,s=u.length;for(Be(t),e&&clearTimeout(e),e=setTimeout((function(){e=null}),p),i=0;i<s;++i)o=u[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=Ye(o,this),Math.hypot(n[0]-o[0],n[1]-o[1])<d)){var l=zt(this).on("dblclick.zoom");l&&l.apply(this,arguments)}}}return m.transform=function(t,n,e,r){var i=t.selection?t.selection():t;i.property("__zoom",Qe),t!==i?w(t,n,e,r):i.interrupt().each((function(){V(this,arguments).event(r).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()}))},m.scaleBy=function(t,n,e,r){m.scaleTo(t,(function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e}),e,r)},m.scaleTo=function(t,n,e,r){m.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,a=null==e?_(t):"function"==typeof e?e.apply(this,arguments):e,u=r.invert(a),s="function"==typeof n?n.apply(this,arguments):n;return o(v(y(r,s),a,u),t,l)}),e,r)},m.translateBy=function(t,n,e,r){m.transform(t,(function(){return o(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),i.apply(this,arguments),l)}),null,r)},m.translateTo=function(t,n,e,r,a){m.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,u=null==r?_(t):"function"==typeof r?r.apply(this,arguments):r;return o(qe.translate(u[0],u[1]).scale(a.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,l)}),r,a)},b.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var n=zt(this.that).datum();f.call(t,this.that,new Ge(t,{sourceEvent:this.sourceEvent,target:m,type:t,transform:this.that.__zoom,dispatch:f}),n)}},m.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:Fe(+t),m):a},m.filter=function(t){return arguments.length?(r="function"==typeof t?t:Fe(!!t),m):r},m.touchable=function(t){return arguments.length?(u="function"==typeof t?t:Fe(!!t),m):u},m.extent=function(t){return arguments.length?(i="function"==typeof t?t:Fe([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):i},m.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],m):[s[0],s[1]]},m.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(t){return arguments.length?(o=t,m):o},m.duration=function(t){return arguments.length?(c=+t,m):c},m.interpolate=function(t){return arguments.length?(h=t,m):h},m.on=function(){var t=f.on.apply(f,arguments);return t===f?m:t},m.clickDistance=function(t){return arguments.length?(g=(t=+t)*t,m):Math.sqrt(g)},m.tapDistance=function(t){return arguments.length?(d=+t,m):d},m}Ue.prototype;var ir=e(296),or=e.n(ir);function ar(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||0,r.configurable=1,"value"in r&&(r.writable=1),Object.defineProperty(t,r.key,r)}}function ur(t,n,e){return n&&ar(t.prototype,n),e&&ar(t,e),Object.defineProperty(t,"prototype",{writable:0}),t}function sr(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,i,o=[],a=1,u=0;try{for(e=e.call(t);!(a=(r=e.next()).done)&&(o.push(r.value),!n||o.length!==n);a=1);}catch(t){u=1,i=t}finally{try{a||null==e.return||e.return()}finally{if(u)throw i}}return o}}(t,n)||function(t,n){if(t){if("string"==typeof t)return lr(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?lr(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lr(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}var cr,hr,fr,pr,gr,dr,mr,yr,vr,_r,wr,Vr,br,xr,Hr=ur((function t(n,e){var r=e.default,i=void 0===r?null:r,o=e.triggerUpdate,a=void 0===o?1:o,u=e.onChange,s=void 0===u?function(){}:u;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=n,this.defaultVal=i,this.triggerUpdate=a,this.onChange=s}));function Mr(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Lr(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Mr(Object(e),1).forEach((function(n){zr(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Mr(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function Pr(t){return Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pr(t)}function zr(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:1,configurable:1,writable:1}):t[n]=e,t}const Nr=(fr=void 0===(hr=(cr={props:{htmlEl:{onChange:function(t,n){n.htmlEls=(t?t instanceof Array?t:[t]:[]).map((function(t){return"object"===Pr(t)&&t.node&&"function"==typeof t.node?t:zt(t)}))},triggerUpdate:0},svgEl:{onChange:function(t,n){n.svgEls=(t?t instanceof Array?t:[t]:[]).map((function(t){return"object"===Pr(t)&&t.node&&"function"==typeof t.node?t:zt(t)}))},triggerUpdate:0},canvasEl:{onChange:function(t,n){n.canvasCtxs=(t?t instanceof Array?t:[t]:[]).map((function(t){return"object"===Pr(t)&&t.node&&"function"==typeof t.node?t.node().getContext("2d"):t.getContext("2d")}))},triggerUpdate:0},enableX:{default:1,triggerUpdate:0},enableY:{default:1,triggerUpdate:0},scaleExtent:{default:[1,1/0],onChange:function(t,n){t&&n.zoom.scaleExtent(t)},triggerUpdate:0},translateExtent:{onChange:function(t,n){t&&n.zoom.translateExtent(t)},triggerUpdate:0},onChange:{triggerUpdate:0}},methods:{current:function(t){return Lr({},t.zoomTransform)},zoomBy:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.initialised&&(t.transitionDuration=e,t.el.call(t.zoom.scaleBy,n)),this},zoomReset:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.initialised&&(t.transitionDuration=n,t.el.call(t.zoom.transform,qe)),this},zoomTo:function(t,n){var e=n.x,r=void 0===e?0:e,i=n.y,o=void 0===i?0:i,a=n.k,u=void 0===a?1:a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.initialised&&(t.transitionDuration=s,t.el.call(t.zoom.transform,qe.scale(u).translate(r,o))),this}},stateInit:function(){return{zoom:rr().filter((function(t){return!t.button&&!t.dblclick})),zoomTransform:{x:0,y:0,k:1}}},init:function(t,n){var e=!!t&&"object"===Pr(t)&&!!t.node&&"function"==typeof t.node;n.el=zt(e?t.node():t),n.el.call(n.zoom.on("zoom",(function(t){var e=Lr({},t.transform);!n.enableX&&(e.x=0),!n.enableY&&(e.y=0);var r=n.zoomTransform;n.zoomTransform=e;var i=n.transitionDuration||0;n.transitionDuration=0;var o=n.enableX?e.k:1,a=n.enableY?e.k:1;n.htmlEls.forEach((function(t){(i?t.transition().duration(i):t).style("transform","translate(".concat(e.x,"px, ").concat(e.y,"px) scale(").concat(o,", ").concat(a,")"))})),n.svgEls.forEach((function(t){(i?t.transition().duration(i):t).attr("transform","translate(".concat(e.x,", ").concat(e.y,") scale(").concat(o,", ").concat(a,")"))})),n.canvasCtxs.forEach((function(t,u){var s=function(n){var e=n.x,r=n.y,i=n.scX,o=n.scY;t.setTransform(i,0,0,o,e,r)};i?Se().duration(i).tween("animate-ctx-".concat(u),(function(){var t=sn(r.x,e.x),i=sn(r.y,e.y),o=n.enableX?sn(r.k,e.k):function(){return 1},a=n.enableY?sn(r.k,e.k):function(){return 1};return function(n){return s({x:t(n),y:i(n),scX:o(n),scY:a(n)})}})):s(Lr({scX:o,scY:a},e))})),n.onChange&&n.onChange(e,r,i)}))),n.el.on("dblclick.zoom",null)}}).stateInit)?function(){return{}}:hr,mr=void 0===(dr=cr.methods)?{}:dr,vr=void 0===(yr=cr.aliases)?{}:yr,wr=void 0===(_r=cr.init)?function(){}:_r,br=void 0===(Vr=cr.update)?function(){}:Vr,xr=Object.keys(gr=void 0===(pr=cr.props)?{}:pr).map((function(t){return new Hr(t,gr[t])})),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({},fr instanceof Function?fr(t):fr,{initialised:0}),e={};function r(n){return i(n,t),o(),r}var i=function(t,e){wr.call(r,t,n,e),n.initialised=1},o=or()((function(){n.initialised&&(br.call(r,n,e),e={})}),1);return xr.forEach((function(t){r[t.name]=function(t){var i=t.name,a=t.triggerUpdate,u=void 0===a?0:a,s=t.onChange,l=void 0===s?function(){}:s,c=t.defaultVal,h=void 0===c?null:c;return function(t){var a=n[i];if(!arguments.length)return a;var s=void 0===t?h:t;return n[i]=s,l.call(r,s,n,a),!e.hasOwnProperty(i)&&(e[i]=a),u&&o(),r}}(t)})),Object.keys(mr).forEach((function(t){r[t]=function(){for(var e,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=mr[t]).call.apply(e,[r,n].concat(o))}})),Object.entries(vr).forEach((function(t){var n=sr(t,2),e=n[0],i=n[1];return r[e]=r[i]})),r.resetProps=function(){return xr.forEach((function(t){r[t.name](t.defaultVal)})),r},r.resetProps(),n._rerender=o,r});(class{static Init(){t.Init(),s.Init(),n.Init("/Apps/Web/Page/"),this.Draw()}static Draw(){!function(){const t=new f;document.body.append(t.Element),Nr()(t.Element).canvasEl(t.Element).onChange((()=>t.Draw())).scaleExtent([.75,10]).zoomTo({x:(t.Element.width-h[0].Width)/2,y:(t.Element.height-h[0].Height)/2})}()}}).Init()})()})();